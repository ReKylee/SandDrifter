[gd_resource type="VisualShader" load_steps=64 format=3 uid="uid://daivh5y78saql"]

[ext_resource type="Script" path="res://addons/shaderV/uv/tilingNoffset.gd" id="1_xt3nw"]
[ext_resource type="Texture2D" uid="uid://decjllrnl177a" path="res://Assets/SandTile.png" id="2_28yal"]
[ext_resource type="Script" path="res://addons/shaderV/rgba/noise/simplex2d.gd" id="2_yqw3e"]
[ext_resource type="Script" path="res://Resources/ShaderNodes/RandomUVTransform.gd" id="3_ffidh"]
[ext_resource type="Script" path="res://addons/shaderV/tools/remap.gd" id="3_whjne"]
[ext_resource type="Script" path="res://addons/shaderV/uv/pixelate.gd" id="5_pobap"]
[ext_resource type="Script" path="res://Resources/ShaderNodes/HexagonalGrid.gd" id="5_xe13r"]

[sub_resource type="VisualShaderNodeVectorFunc" id="VisualShaderNodeVectorFunc_uaecq"]
default_input_values = [0, Vector2(0, 0)]
op_type = 0
function = 3

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_tksus"]
default_input_values = [1, Vector3(32, 32, 0)]
initialized = true
script = ExtResource("5_pobap")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_7ar78"]
default_input_values = [1, Vector3(0, 0, 0), 2, 0.1]
initialized = true
script = ExtResource("2_yqw3e")

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_diods"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
op_type = 5

[sub_resource type="VisualShaderNodeVectorFunc" id="VisualShaderNodeVectorFunc_1d4mi"]
output_port_for_preview = 0
default_input_values = [0, Quaternion(0, 0, 0, 0)]
op_type = 2
function = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_6trv1"]
default_input_values = [0, 0.0, 1, 1.108]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_far8m"]
input_name = "uv"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_xkith"]
default_input_values = [0, 0.0, 1, 2.631]
operator = 5

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_ceadk"]
default_input_values = [0, 0.37]
function = 28

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_dv6ns"]
parameter_name = "Strength"
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_w5si8"]
parameter_name = "Falloff"
hint = 1
default_value_enabled = true
default_value = 0.5

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_gdxcq"]
parameter_name = "TireViewportTexture"
texture_filter = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_1ev87"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(1, 1)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_kqx6l"]
output_port_for_preview = 0
input_name = "uv"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_10nv0"]
input_name = "texture_pixel_size"

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_s3yjq"]
output_port_for_preview = 0
default_input_values = [1, 0.0, 2, 1.0, 3, 0.0, 4, 0.001]
initialized = true
script = ExtResource("3_whjne")

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_yfkfm"]
output_port_for_preview = 0
default_input_values = [1, Vector2(0.5, 0.5), 2, Vector2(0.5, 0.5)]

[sub_resource type="VisualShaderNodeVectorFunc" id="VisualShaderNodeVectorFunc_nptth"]
default_input_values = [0, Vector2(0, 0)]
op_type = 0
function = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_ca41s"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(512, 512)]
op_type = 0
operator = 3

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_ttmsc"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
op_type = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_nxrag"]
input_name = "texture_pixel_size"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_ub7sc"]
source = 5
texture = ExtResource("2_28yal")

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_puf75"]
parameter_name = "Tile"
texture_filter = 1

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_ccu62"]
default_input_values = [1, Vector3(0, 0, 0)]
initialized = true
script = ExtResource("1_xt3nw")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_s832q"]
default_input_values = [1, Vector2(0, 0), 2, 1.0, 3, 1.2, 4, -180.0, 5, 180.0]
initialized = true
script = ExtResource("3_ffidh")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_4sxa0"]
default_input_values = [1, Vector3(32, 32, 0)]
initialized = true
script = ExtResource("5_pobap")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_d7hx3"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_vqiys"]
default_input_values = [1, Vector2(0, 0), 2, 1.0, 3, 1.2, 4, -180.0, 5, 180.0]
initialized = true
script = ExtResource("3_ffidh")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_1ox51"]
default_input_values = [1, Vector2(0, 0), 2, 1.0, 3, 1.2, 4, -180.0, 5, 180.0]
initialized = true
script = ExtResource("3_ffidh")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_3cgk8"]
default_input_values = [1, 64.0, 2, Vector3(2, 2, 2), 3, Vector2(0, 0), 4, Vector2(0, 0), 5, Vector2(0, 0)]
initialized = true
script = ExtResource("5_xe13r")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_b0n3q"]
source = 5
texture = ExtResource("2_28yal")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_3ssin"]
source = 5
texture = ExtResource("2_28yal")

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_q4mc7"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeVectorDecompose" id="VisualShaderNodeVectorDecompose_1p8dt"]

[sub_resource type="VisualShaderNodeMultiplyAdd" id="VisualShaderNodeMultiplyAdd_mpl7x"]
default_input_values = [0, Vector4(0, 0, 0, 0), 1, Vector4(1, 1, 1, 1), 2, Vector4(0, 0, 0, 0)]
op_type = 3

[sub_resource type="VisualShaderNodeMultiplyAdd" id="VisualShaderNodeMultiplyAdd_wfqgi"]
default_input_values = [0, Vector4(0, 0, 0, 0), 1, Vector4(1, 1, 1, 1), 2, Vector4(0, 0, 0, 0)]
op_type = 3

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_ox0ox"]
default_input_values = [1, Vector3(0, 0, 0)]
initialized = true
script = ExtResource("1_xt3nw")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_ixlx8"]
default_input_values = [1, Vector3(0, 0, 0)]
initialized = true
script = ExtResource("1_xt3nw")

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_k0wan"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_3u66v"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_nbih2"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(89, 89)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_b7it8"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_klluc"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_45s6t"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6ldqs"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_7bqyv"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(89, 89)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_b4m6o"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_uvaaw"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_485kj"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_gu4tb"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_74lep"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(89, 89)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_7kmok"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(90, 90)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_r7npr"]

[sub_resource type="VisualShaderNodeComment" id="VisualShaderNodeComment_6q4f4"]
size = Vector2(3744.34, 1345.3)

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_upr0x"]
parameter_name = "DuneColor"
default_value_enabled = true
default_value = Color(0.466667, 0.360784, 0.309804, 1)

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6wi22"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(32, 32)]
op_type = 0
operator = 2

[resource]
resource_local_to_scene = true
code = "shader_type canvas_item;
render_mode blend_mix;

uniform sampler2D Tile : filter_nearest;
uniform vec4 DuneColor : source_color = vec4(0.466667, 0.360784, 0.309804, 1.000000);
uniform float Strength = 1;
uniform float Falloff : hint_range(0, 1) = 0.5;
uniform sampler2D TireViewportTexture : filter_nearest;


// PixelateUV
vec2 _pixelateUV(vec2 _pixelate_uv, vec2 _effect_factor_pixelate) {
	return round(_pixelate_uv * _effect_factor_pixelate) / (_effect_factor_pixelate - 1.0);
}
// HexagonalGrid



vec3 hexagonalGrid(vec2 uv, vec3 sharpness, float hexSize, out vec2 r, out vec2 g, out vec2 b) {
	
	//step one
	uv *= 6.0;
	//step four
	float ost = (1.732 / 2.0);
	float ost_rec = 1.0 / ost;
	float v = uv.y * ost_rec;
	
	float u = uv.x - (0.5 / ost) * uv.y;
	vec2 new_uv = vec2(u, v) / hexSize;
	
	vec2 floored_uv = floor(new_uv);
	vec3 differentiate = vec3(0.0, 1.0, 2.0) + (floored_uv.x - floored_uv.y);
	vec3 five_thirds_differentiate = 1.666667 + 1.0/3.0 * differentiate;
	vec3 rounded_fract = round(fract(five_thirds_differentiate));
	
	//step two
	vec2 hex_mask = fract(new_uv);
	float added = (hex_mask.x + hex_mask.y) - 1.0;
	vec2 flipped_inverted_hex_mask = 1.0 - hex_mask.yx;
	
	vec3 combined = vec3(abs(added), hex_mask.x, hex_mask.y);
	vec3 rounded_fract_mult = rounded_fract * 0.0;
	
	if(added > 0.0) {
		rounded_fract_mult = rounded_fract * 1.0;
		
		combined.y = flipped_inverted_hex_mask.x;
		combined.z = flipped_inverted_hex_mask.y;
	} 
	
	r = floored_uv + rounded_fract_mult.x + rounded_fract.xy;
	g = floored_uv + rounded_fract_mult.y + rounded_fract.zx;
	b = floored_uv + rounded_fract_mult.z + rounded_fract.yz;
	
	
	vec3 hex_grid = vec3(
		dot(rounded_fract.zxy, combined),
		dot(rounded_fract.yzx, combined),
		dot(rounded_fract.xyz, combined));
	
	//step three
	vec3 sharpened = pow(hex_grid, sharpness);
	sharpened = sharpened / dot(sharpened, vec3(1.0, 1.0, 1.0));
	
	
	return sharpened;
}
// RandomUVTransform


// HashRandom2dVec
vec2 _hash2vec(vec2 co) {
	float _tmp_h = dot(co, vec2(12.9898, 78.233));
	return fract(vec2(sin(_tmp_h), cos(_tmp_h)) * 43758.5453) * 2.0 - 1.0;
}
// TransformUV
vec2 transformUV(vec2 _uv_transform, vec2 _scale_uv_, vec2 _pivot_scale_uv_, vec2 _offset_uv_, float _rotate_uv, vec2 _pivot_rotate_uv_){
	_uv_transform -= _offset_uv_; // offset
	_uv_transform = (_uv_transform - _pivot_scale_uv_) * _scale_uv_ + _pivot_scale_uv_; // zoom
	vec2 _rot_uv_angl = vec2(cos(_rotate_uv), sin(_rotate_uv));
	mat2 _rot_matrix = mat2(vec2(_rot_uv_angl.x, - _rot_uv_angl.y), vec2(_rot_uv_angl.y, _rot_uv_angl.x));
	_uv_transform = (_uv_transform - _pivot_rotate_uv_) * _rot_matrix + _pivot_rotate_uv_; // rotate
	return _uv_transform;
}

vec2 _random_transformUV(vec2 uv, vec2 randomSeed, float scaleMin, float scaleMax, float rotationMin, float rotationMax) {

	vec2 HashRandom2dVec= _hash2vec(randomSeed);

	vec2 SecondHashRandom2dVec= _hash2vec(randomSeed * 16.0);



	vec2 randomScale = vec2(mix(scaleMin, scaleMax, SecondHashRandom2dVec.x));

// Mix:12
	float randomRotation = mix(rotationMin, rotationMax, SecondHashRandom2dVec.y);

	vec2 scalePivot = vec2(0.50000, 0.50000);
	vec2 rotationPivot = vec2(0.50000, 0.50000);

	return transformUV(uv, randomScale, scalePivot, HashRandom2dVec, randomRotation, rotationPivot);
}

// TilingAndOffsetUV
vec2 _tiling_and_offset(vec2 _tiling_and_offset_uv, vec2 _tiling_and_offset_offset_vect){
	return vec2(mod(_tiling_and_offset_uv.x + _tiling_and_offset_offset_vect.x, 1.0),
				mod(_tiling_and_offset_uv.y + _tiling_and_offset_offset_vect.y, 1.0));
}
// SimplexNoise2D
vec3 _permute_simplex2_noise(vec3 x) {
	return ((x*34.0)+1.0)*x-floor(((x*34.0)+1.0)*x*(1.0/289.0))*289.0;
}

float _simplex2dNoiseFunc(vec2 v) {
	vec4 C = vec4(0.211324865405187,
				0.366025403784439,
				-0.577350269189626,
				0.024390243902439);
	
	vec2 i  = floor(v + dot(v, C.yy) );
	vec2 x0 = v -   i + dot(i, C.xx);
	
	vec2 i1;
	i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
	vec4 x12 = vec4(x0.xy, x0.xy) + C.xxzz;
	x12.xy -= i1;
	
	i = i - floor(i * (1.0 / 289.0)) * 289.0;
	vec3 p = _permute_simplex2_noise(_permute_simplex2_noise(i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0));
	
	vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), vec3(0.0));
	m = m * m;
	m = m * m;
	
	vec3 x = 2.0 * fract(p * C.www) - 1.0;
	vec3 h = abs(x) - 0.5;
	vec3 ox = floor(x + 0.5);
	vec3 a0 = x - ox;
	
	m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);
	
	vec3 g;
	g.x  = a0.x  * x0.x  + h.x  * x0.y;
	g.yz = a0.yz * x12.xz + h.yz * x12.yw;
	return 130.0 * dot(m, g);
}
// Remap
vec3 _remapFunc(vec3 _remap_input, vec2 _remap_from, vec2 _remap_to){
	return _remap_to.x + ((_remap_input - _remap_from.x) * (_remap_to.y - _remap_to.x)) / (_remap_from.y - _remap_from.x);
}

void fragment() {
// Input:11
	vec2 n_out11p0 = UV;


// Input:14
	vec2 n_out14p0 = TEXTURE_PIXEL_SIZE;


// VectorOp:99
	vec2 n_in99p1 = vec2(32.00000, 32.00000);
	vec2 n_out99p0 = n_out14p0 * n_in99p1;


// VectorFunc:100
	vec2 n_out100p0 = 1.0 / (n_out99p0);


// VectorOp:12
	vec2 n_out12p0 = n_out11p0 * n_out100p0;


	vec3 n_out27p0;
// PixelateUV:27
	vec3 n_in27p1 = vec3(32.00000, 32.00000, 0.00000);
	{
		n_out27p0.xy = _pixelateUV(vec3(n_out12p0, 0.0).xy, n_in27p1.xy);
	}


	vec3 n_out39p0;
	vec2 n_out39p1;
	vec2 n_out39p2;
	vec2 n_out39p3;
// HexagonalGrid:39
	float n_in39p1 = 64.00000;
	vec3 n_in39p2 = vec3(2.00000, 2.00000, 2.00000);
	vec2 n_in39p3 = vec2(0.00000, 0.00000);
	vec2 n_in39p4 = vec2(0.00000, 0.00000);
	vec2 n_in39p5 = vec2(0.00000, 0.00000);
	{
		n_out39p0 = hexagonalGrid(vec2(n_out27p0.xy), n_in39p2, n_in39p1, n_out39p1, n_out39p2, n_out39p3); 
			
	}


// FloatFunc:75
	float n_out75p0 = sign(n_out39p3.x);


// VectorOp:71
	vec2 n_in71p0 = vec2(0.00000, 0.00000);
	vec2 n_out71p0 = n_in71p0 + vec2(n_out75p0);


// VectorOp:73
	vec2 n_in73p1 = vec2(89.00000, 89.00000);
	vec2 n_out73p0 = n_out71p0 * n_in73p1;


// VectorOp:72
	vec2 n_in72p1 = vec2(90.00000, 90.00000);
	vec2 n_out72p0 = n_out73p0 / n_in72p1;


// VectorOp:74
	vec2 n_in74p1 = vec2(90.00000, 90.00000);
	vec2 n_out74p0 = n_out72p0 * n_in74p1;


	vec2 n_out26p0;
// RandomUVTransform:26
	float n_in26p2 = 1.00000;
	float n_in26p3 = 1.20000;
	float n_in26p4 = -180.00000;
	float n_in26p5 = 180.00000;
	{
		n_out26p0 = _random_transformUV(vec2(n_out27p0.xy), n_out74p0, n_in26p2, n_in26p3, n_in26p4, n_in26p5);
	}


	vec3 n_out50p0;
// TilingAndOffsetUV:50
	vec3 n_in50p1 = vec3(0.00000, 0.00000, 0.00000);
	{
		n_out50p0 = vec3(_tiling_and_offset(vec3(n_out26p0, 0.0).xy, n_in50p1.xy), 0);
	}


	vec4 n_out16p0;
// Texture2D:16
	n_out16p0 = texture(Tile, vec2(n_out50p0.xy));


// VectorDecompose:43
	float n_out43p0 = n_out39p0.x;
	float n_out43p1 = n_out39p0.y;
	float n_out43p2 = n_out39p0.z;


// FloatFunc:70
	float n_out70p0 = sign(n_out39p2.x);


// VectorOp:66
	vec2 n_in66p0 = vec2(0.00000, 0.00000);
	vec2 n_out66p0 = n_in66p0 + vec2(n_out70p0);


// VectorOp:68
	vec2 n_in68p1 = vec2(89.00000, 89.00000);
	vec2 n_out68p0 = n_out66p0 * n_in68p1;


// VectorOp:67
	vec2 n_in67p1 = vec2(90.00000, 90.00000);
	vec2 n_out67p0 = n_out68p0 / n_in67p1;


// VectorOp:69
	vec2 n_in69p1 = vec2(90.00000, 90.00000);
	vec2 n_out69p0 = n_out67p0 * n_in69p1;


	vec2 n_out37p0;
// RandomUVTransform:37
	float n_in37p2 = 1.00000;
	float n_in37p3 = 1.20000;
	float n_in37p4 = -180.00000;
	float n_in37p5 = 180.00000;
	{
		n_out37p0 = _random_transformUV(vec2(n_out27p0.xy), n_out69p0, n_in37p2, n_in37p3, n_in37p4, n_in37p5);
	}


	vec3 n_out49p0;
// TilingAndOffsetUV:49
	vec3 n_in49p1 = vec3(0.00000, 0.00000, 0.00000);
	{
		n_out49p0 = vec3(_tiling_and_offset(vec3(n_out37p0, 0.0).xy, n_in49p1.xy), 0);
	}


	vec4 n_out40p0;
// Texture2D:40
	n_out40p0 = texture(Tile, vec2(n_out49p0.xy));


// FloatFunc:60
	float n_out60p0 = sign(n_out39p1.x);


// VectorOp:62
	vec2 n_out62p0 = n_out39p1 + vec2(n_out60p0);


// VectorOp:63
	vec2 n_in63p1 = vec2(89.00000, 89.00000);
	vec2 n_out63p0 = n_out62p0 * n_in63p1;


// VectorOp:64
	vec2 n_in64p1 = vec2(90.00000, 90.00000);
	vec2 n_out64p0 = n_out63p0 / n_in64p1;


// VectorOp:65
	vec2 n_in65p1 = vec2(90.00000, 90.00000);
	vec2 n_out65p0 = n_out64p0 * n_in65p1;


	vec2 n_out38p0;
// RandomUVTransform:38
	float n_in38p2 = 1.00000;
	float n_in38p3 = 1.20000;
	float n_in38p4 = -180.00000;
	float n_in38p5 = 180.00000;
	{
		n_out38p0 = _random_transformUV(vec2(n_out27p0.xy), n_out65p0, n_in38p2, n_in38p3, n_in38p4, n_in38p5);
	}


	vec3 n_out25p0;
// TilingAndOffsetUV:25
	vec3 n_in25p1 = vec3(0.00000, 0.00000, 0.00000);
	{
		n_out25p0 = vec3(_tiling_and_offset(vec3(n_out38p0, 0.0).xy, n_in25p1.xy), 0);
	}


	vec4 n_out41p0;
// Texture2D:41
	n_out41p0 = texture(Tile, vec2(n_out25p0.xy));


// VectorOp:42
	vec4 n_out42p0 = n_out41p0 * vec4(n_out43p0);


// MultiplyAdd:46
	vec4 n_out46p0 = fma(n_out40p0, vec4(n_out43p1), n_out42p0);


// MultiplyAdd:47
	vec4 n_out47p0 = fma(n_out16p0, vec4(n_out43p2), n_out46p0);


// ColorParameter:90
	vec4 n_out90p0 = DuneColor;


	vec3 n_out103p0;
// PixelateUV:103
	vec3 n_in103p1 = vec3(32.00000, 32.00000, 0.00000);
	{
		n_out103p0.xy = _pixelateUV(vec3(n_out12p0, 0.0).xy, n_in103p1.xy);
	}


	float n_out104p0;
// SimplexNoise2D:104
	vec3 n_in104p1 = vec3(0.00000, 0.00000, 0.00000);
	float n_in104p2 = 0.10000;
	{
		n_out104p0 = _simplex2dNoiseFunc((n_out103p0.xy+n_in104p1.xy)*n_in104p2);
	}


// FloatParameter:112
	float n_out112p0 = Strength;


// FloatOp:109
	float n_out109p0 = n_out104p0 * n_out112p0;


// FloatParameter:113
	float n_out113p0 = Falloff;


// FloatFunc:111
	float n_out111p0 = 1.0 / (n_out113p0);


// FloatOp:110
	float n_out110p0 = pow(n_out109p0, n_out111p0);


// VectorFunc:108
	vec4 n_out108p0 = max(min(vec4(n_out110p0), vec4(1.0)), vec4(0.0));


// Mix:107
	vec4 n_out107p0 = mix(n_out47p0, n_out90p0, n_out108p0);


// Input:120
	vec2 n_out120p0 = UV;


// Input:122
	vec2 n_out122p0 = TEXTURE_PIXEL_SIZE;


// VectorFunc:126
	vec2 n_out126p0 = 1.0 / (n_out122p0);


// VectorOp:127
	vec2 n_in127p1 = vec2(512.00000, 512.00000);
	vec2 n_out127p0 = n_out126p0 / n_in127p1;


// UVFunc:125
	vec2 n_in125p2 = vec2(0.50000, 0.50000);
	vec2 n_out125p0 = n_in125p2 * n_out127p0 + n_out120p0;


	vec3 n_out123p0;
// Remap:123
	float n_in123p1 = 0.00000;
	float n_in123p2 = 1.00000;
	float n_in123p3 = 0.00000;
	{
		n_out123p0 = _remapFunc(vec3(n_out125p0, 0.0), vec2(n_in123p1, n_in123p2), vec2(n_in123p3, n_out127p0.x));
	}


	vec4 n_out3p0;
// Texture2D:3
	n_out3p0 = texture(TireViewportTexture, vec2(n_out123p0.xy));
	float n_out3p4 = n_out3p0.a;


// Mix:128
	vec4 n_out128p0 = mix(n_out107p0, n_out3p0, vec4(n_out3p4));


// Output:0
	COLOR.rgb = vec3(n_out128p0.xyz);


}
"
graph_offset = Vector2(1265.57, 330.419)
mode = 1
flags/light_only = false
nodes/fragment/0/position = Vector2(3380, 1100)
nodes/fragment/3/node = SubResource("VisualShaderNodeTexture_d7hx3")
nodes/fragment/3/position = Vector2(2680, 1080)
nodes/fragment/11/node = SubResource("VisualShaderNodeInput_far8m")
nodes/fragment/11/position = Vector2(-1820, 740)
nodes/fragment/12/node = SubResource("VisualShaderNodeVectorOp_1ev87")
nodes/fragment/12/position = Vector2(-1420, 680)
nodes/fragment/14/node = SubResource("VisualShaderNodeInput_nxrag")
nodes/fragment/14/position = Vector2(-2140, 1000)
nodes/fragment/16/node = SubResource("VisualShaderNodeTexture_ub7sc")
nodes/fragment/16/position = Vector2(700, -60)
nodes/fragment/18/node = SubResource("VisualShaderNodeTexture2DParameter_puf75")
nodes/fragment/18/position = Vector2(200, 240)
nodes/fragment/25/node = SubResource("VisualShaderNodeCustom_ccu62")
nodes/fragment/25/position = Vector2(480, -500)
nodes/fragment/26/node = SubResource("VisualShaderNodeCustom_s832q")
nodes/fragment/26/position = Vector2(240, -20)
nodes/fragment/27/node = SubResource("VisualShaderNodeCustom_4sxa0")
nodes/fragment/27/position = Vector2(-1360, 60)
nodes/fragment/37/node = SubResource("VisualShaderNodeCustom_vqiys")
nodes/fragment/37/position = Vector2(240, -260)
nodes/fragment/38/node = SubResource("VisualShaderNodeCustom_1ox51")
nodes/fragment/38/position = Vector2(240, -500)
nodes/fragment/39/node = SubResource("VisualShaderNodeCustom_3cgk8")
nodes/fragment/39/position = Vector2(-1200, -540)
nodes/fragment/40/node = SubResource("VisualShaderNodeTexture_b0n3q")
nodes/fragment/40/position = Vector2(720, -280)
nodes/fragment/41/node = SubResource("VisualShaderNodeTexture_3ssin")
nodes/fragment/41/position = Vector2(720, -540)
nodes/fragment/42/node = SubResource("VisualShaderNodeVectorOp_q4mc7")
nodes/fragment/42/position = Vector2(1020, -320)
nodes/fragment/43/node = SubResource("VisualShaderNodeVectorDecompose_1p8dt")
nodes/fragment/43/position = Vector2(400, -680)
nodes/fragment/46/node = SubResource("VisualShaderNodeMultiplyAdd_mpl7x")
nodes/fragment/46/position = Vector2(1200, -40)
nodes/fragment/47/node = SubResource("VisualShaderNodeMultiplyAdd_wfqgi")
nodes/fragment/47/position = Vector2(1400, 200)
nodes/fragment/49/node = SubResource("VisualShaderNodeCustom_ox0ox")
nodes/fragment/49/position = Vector2(480, -260)
nodes/fragment/50/node = SubResource("VisualShaderNodeCustom_ixlx8")
nodes/fragment/50/position = Vector2(480, -20)
nodes/fragment/60/node = SubResource("VisualShaderNodeFloatFunc_k0wan")
nodes/fragment/60/position = Vector2(-680, -380)
nodes/fragment/62/node = SubResource("VisualShaderNodeVectorOp_3u66v")
nodes/fragment/62/position = Vector2(-460, -500)
nodes/fragment/63/node = SubResource("VisualShaderNodeVectorOp_nbih2")
nodes/fragment/63/position = Vector2(-300, -500)
nodes/fragment/64/node = SubResource("VisualShaderNodeVectorOp_b7it8")
nodes/fragment/64/position = Vector2(-120, -500)
nodes/fragment/65/node = SubResource("VisualShaderNodeVectorOp_klluc")
nodes/fragment/65/position = Vector2(40, -500)
nodes/fragment/66/node = SubResource("VisualShaderNodeVectorOp_45s6t")
nodes/fragment/66/position = Vector2(-460, -220)
nodes/fragment/67/node = SubResource("VisualShaderNodeVectorOp_6ldqs")
nodes/fragment/67/position = Vector2(-120, -220)
nodes/fragment/68/node = SubResource("VisualShaderNodeVectorOp_7bqyv")
nodes/fragment/68/position = Vector2(-300, -220)
nodes/fragment/69/node = SubResource("VisualShaderNodeVectorOp_b4m6o")
nodes/fragment/69/position = Vector2(40, -220)
nodes/fragment/70/node = SubResource("VisualShaderNodeFloatFunc_uvaaw")
nodes/fragment/70/position = Vector2(-680, -140)
nodes/fragment/71/node = SubResource("VisualShaderNodeVectorOp_485kj")
nodes/fragment/71/position = Vector2(-460, 40)
nodes/fragment/72/node = SubResource("VisualShaderNodeVectorOp_gu4tb")
nodes/fragment/72/position = Vector2(-120, 40)
nodes/fragment/73/node = SubResource("VisualShaderNodeVectorOp_74lep")
nodes/fragment/73/position = Vector2(-300, 40)
nodes/fragment/74/node = SubResource("VisualShaderNodeVectorOp_7kmok")
nodes/fragment/74/position = Vector2(60, 40)
nodes/fragment/75/node = SubResource("VisualShaderNodeFloatFunc_r7npr")
nodes/fragment/75/position = Vector2(-680, 120)
nodes/fragment/76/node = SubResource("VisualShaderNodeComment_6q4f4")
nodes/fragment/76/position = Vector2(-2140, -720)
nodes/fragment/90/node = SubResource("VisualShaderNodeColorParameter_upr0x")
nodes/fragment/90/position = Vector2(1840, 660)
nodes/fragment/99/node = SubResource("VisualShaderNodeVectorOp_6wi22")
nodes/fragment/99/position = Vector2(-1780, 940)
nodes/fragment/100/node = SubResource("VisualShaderNodeVectorFunc_uaecq")
nodes/fragment/100/position = Vector2(-1560, 900)
nodes/fragment/103/node = SubResource("VisualShaderNodeCustom_tksus")
nodes/fragment/103/position = Vector2(-1040, 700)
nodes/fragment/104/node = SubResource("VisualShaderNodeCustom_7ar78")
nodes/fragment/104/position = Vector2(1640, 880)
nodes/fragment/107/node = SubResource("VisualShaderNodeMix_diods")
nodes/fragment/107/position = Vector2(2560, 780)
nodes/fragment/108/node = SubResource("VisualShaderNodeVectorFunc_1d4mi")
nodes/fragment/108/position = Vector2(2380, 900)
nodes/fragment/109/node = SubResource("VisualShaderNodeFloatOp_6trv1")
nodes/fragment/109/position = Vector2(1820, 900)
nodes/fragment/110/node = SubResource("VisualShaderNodeFloatOp_xkith")
nodes/fragment/110/position = Vector2(2220, 920)
nodes/fragment/111/node = SubResource("VisualShaderNodeFloatFunc_ceadk")
nodes/fragment/111/position = Vector2(1980, 1000)
nodes/fragment/112/node = SubResource("VisualShaderNodeFloatParameter_dv6ns")
nodes/fragment/112/position = Vector2(1320, 1020)
nodes/fragment/113/node = SubResource("VisualShaderNodeFloatParameter_w5si8")
nodes/fragment/113/position = Vector2(1620, 1080)
nodes/fragment/115/node = SubResource("VisualShaderNodeTexture2DParameter_gdxcq")
nodes/fragment/115/position = Vector2(1920, 1080)
nodes/fragment/120/node = SubResource("VisualShaderNodeInput_kqx6l")
nodes/fragment/120/position = Vector2(1400, 1360)
nodes/fragment/122/node = SubResource("VisualShaderNodeInput_10nv0")
nodes/fragment/122/position = Vector2(1120, 1680)
nodes/fragment/123/node = SubResource("VisualShaderNodeCustom_s3yjq")
nodes/fragment/123/position = Vector2(2180, 1400)
nodes/fragment/125/node = SubResource("VisualShaderNodeUVFunc_yfkfm")
nodes/fragment/125/position = Vector2(1880, 1380)
nodes/fragment/126/node = SubResource("VisualShaderNodeVectorFunc_nptth")
nodes/fragment/126/position = Vector2(1440, 1640)
nodes/fragment/127/node = SubResource("VisualShaderNodeVectorOp_ca41s")
nodes/fragment/127/position = Vector2(1660, 1620)
nodes/fragment/128/node = SubResource("VisualShaderNodeMix_ttmsc")
nodes/fragment/128/position = Vector2(3099.46, 853.247)
nodes/fragment/connections = PackedInt32Array(18, 0, 16, 2, 18, 0, 40, 2, 18, 0, 41, 2, 38, 0, 25, 0, 25, 0, 41, 0, 37, 0, 49, 0, 49, 0, 40, 0, 26, 0, 50, 0, 50, 0, 16, 0, 27, 0, 39, 0, 27, 0, 38, 0, 27, 0, 37, 0, 27, 0, 26, 0, 39, 1, 60, 0, 39, 1, 62, 0, 60, 0, 62, 1, 62, 0, 63, 0, 63, 0, 64, 0, 64, 0, 65, 0, 65, 0, 38, 1, 70, 0, 66, 1, 66, 0, 68, 0, 68, 0, 67, 0, 67, 0, 69, 0, 39, 2, 70, 0, 69, 0, 37, 1, 75, 0, 71, 1, 71, 0, 73, 0, 73, 0, 72, 0, 72, 0, 74, 0, 39, 3, 75, 0, 74, 0, 26, 1, 16, 0, 47, 0, 43, 2, 47, 1, 40, 0, 46, 0, 43, 1, 46, 1, 46, 0, 47, 2, 41, 0, 42, 0, 43, 0, 42, 1, 42, 0, 46, 2, 39, 0, 43, 0, 11, 0, 12, 0, 100, 0, 12, 1, 99, 0, 100, 0, 14, 0, 99, 0, 12, 0, 27, 0, 115, 0, 3, 2, 122, 0, 126, 0, 123, 0, 3, 0, 120, 0, 125, 0, 125, 0, 123, 0, 126, 0, 127, 0, 127, 0, 125, 1, 127, 0, 123, 4, 3, 4, 128, 2, 3, 0, 128, 1, 47, 0, 107, 0, 107, 0, 128, 0, 90, 0, 107, 1, 113, 0, 111, 0, 112, 0, 109, 1, 108, 0, 107, 2, 110, 0, 108, 0, 109, 0, 110, 0, 111, 0, 110, 1, 12, 0, 103, 0, 103, 0, 104, 0, 104, 0, 109, 0, 128, 0, 0, 0)
